---
description: –ü—Ä–∞–≤–∏–ª–∞ TypeScript. –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º .ts –∏ .tsx —Ñ–∞–π–ª–∞–º.
globs: ["**/*.ts", "**/*.tsx"]
alwaysApply: false
---

# –ü–†–ê–í–ò–õ–ê TYPESCRIPT

> –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è = –Ω–∞–¥—ë–∂–Ω—ã–π –∫–æ–¥. –ù–∏–∫–∞–∫–∏—Ö any, –Ω–∏–∫–∞–∫–∏—Ö –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–≤.

---

## üéØ –ì–õ–ê–í–ù–´–ï –ü–†–ò–ù–¶–ò–ü–´

1. **Strict Mode –≤—Å–µ–≥–¥–∞ –≤–∫–ª—é—á—ë–Ω** ‚Äî `"strict": true` –≤ tsconfig
2. **any –∑–∞–ø—Ä–µ—â—ë–Ω** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π unknown –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã
3. **–Ø–≤–Ω—ã–µ —Ç–∏–ø—ã** ‚Äî –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
4. **Inference –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ** ‚Äî –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

---

## üìù –¢–ò–ü–´ –ò –ò–ù–¢–ï–†–§–ï–ô–°–´

### –ö–æ–≥–¥–∞ interface, –∫–æ–≥–¥–∞ type

```typescript
// ‚úÖ interface ‚Äî –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∫–ª–∞—Å—Å–æ–≤
interface User {
  id: string;
  name: string;
  email: string;
}

interface UserService {
  getUser(id: string): Promise<User>;
  createUser(data: CreateUserDTO): Promise<User>;
}

// ‚úÖ type ‚Äî –¥–ª—è unions, intersections, –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤
type UserRole = 'admin' | 'user' | 'guest';
type Status = 'pending' | 'active' | 'disabled';
type ID = string | number;
type UserWithRole = User & { role: UserRole };

// ‚úÖ type ‚Äî –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
type EventHandler = (event: Event) => void;
type AsyncFunction<T> = () => Promise<T>;
```

### –ü—Ä–∞–≤–∏–ª–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤

```typescript
// ‚úÖ –•–û–†–û–®–û ‚Äî PascalCase, –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞
interface UserProfile { ... }
type OrderStatus = 'pending' | 'completed';
type CreateUserDTO = { ... };
type UserResponse = ApiResponse<User>;

// ‚ùå –ü–õ–û–•–û ‚Äî –ø—Ä–µ—Ñ–∏–∫—Å—ã I/T
interface IUser { ... }  // –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π I
type TUserRole = ...;    // –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π T
```

---

## üö´ –ó–ê–ü–†–ï–©–Å–ù–ù–´–ï –ü–ê–¢–¢–ï–†–ù–´

### any ‚Äî –ù–ò–ö–û–ì–î–ê

```typescript
// ‚ùå –ó–ê–ü–†–ï–©–ï–ù–û
function process(data: any) { ... }
const result: any = fetchData();
const items = [] as any[];

// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π unknown
function process(data: unknown) {
  if (typeof data === 'string') {
    return data.toUpperCase();
  }
  if (isUser(data)) {
    return data.name;
  }
  throw new Error('Invalid data type');
}

// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π generics
function process<T>(data: T): T {
  return data;
}

// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã
function process(data: User | Product) { ... }
```

### Type Assertions ‚Äî –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å

```typescript
// ‚ùå –ò–∑–±–µ–≥–∞–π as
const user = data as User;
const element = document.getElementById('app') as HTMLDivElement;

// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π type guards
function isUser(data: unknown): data is User {
  return (
    typeof data === 'object' &&
    data !== null &&
    'id' in data &&
    'name' in data
  );
}

if (isUser(data)) {
  console.log(data.name); // TypeScript –∑–Ω–∞–µ—Ç —á—Ç–æ —ç—Ç–æ User
}

// ‚úÖ –ï—Å–ª–∏ assertion –Ω–µ–æ–±—Ö–æ–¥–∏–º ‚Äî –¥–æ–±–∞–≤—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
// Type assertion –±–µ–∑–æ–ø–∞—Å–µ–Ω: getElementById –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –≤–µ—Ä–Ω—ë—Ç div
const element = document.getElementById('app') as HTMLDivElement;
```

### Non-null Assertion ‚Äî –∏–∑–±–µ–≥–∞—Ç—å

```typescript
// ‚ùå –ò–∑–±–µ–≥–∞–π !
const name = user!.name;
const first = items![0];

// ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–π —è–≤–Ω–æ
if (!user) throw new Error('User required');
const name = user.name;

// ‚úÖ –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π optional chaining —Å fallback
const name = user?.name ?? 'Unknown';
```

---

## ‚úÖ –õ–£–ß–®–ò–ï –ü–†–ê–ö–¢–ò–ö–ò

### Utility Types

```typescript
// Partial ‚Äî –≤—Å–µ –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ
type UpdateUserDTO = Partial<User>;

// Required ‚Äî –≤—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
type CompleteUser = Required<User>;

// Pick ‚Äî —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–æ–ª—è
type UserPreview = Pick<User, 'id' | 'name'>;

// Omit ‚Äî –≤—Å–µ –∫—Ä–æ–º–µ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö
type UserWithoutPassword = Omit<User, 'password'>;

// Record ‚Äî –æ–±—ä–µ–∫—Ç —Å –∫–ª—é—á–∞–º–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
type UsersByRole = Record<UserRole, User[]>;

// ReturnType ‚Äî —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
type FetchResult = ReturnType<typeof fetchUser>;

// Parameters ‚Äî —Ç–∏–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
type FetchParams = Parameters<typeof fetchUser>;
```

### Discriminated Unions

```typescript
// ‚úÖ –û—Ç–ª–∏—á–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π
type AsyncState<T> =
  | { status: 'idle' }
  | { status: 'loading' }
  | { status: 'success'; data: T }
  | { status: 'error'; error: Error };

function renderState<T>(state: AsyncState<T>) {
  switch (state.status) {
    case 'idle':
      return null;
    case 'loading':
      return <Spinner />;
    case 'success':
      return <Data data={state.data} />; // TypeScript –∑–Ω–∞–µ—Ç —á—Ç–æ data –µ—Å—Ç—å
    case 'error':
      return <Error error={state.error} />; // TypeScript –∑–Ω–∞–µ—Ç —á—Ç–æ error –µ—Å—Ç—å
  }
}
```

### Generics

```typescript
// ‚úÖ Generic —Ñ—É–Ω–∫—Ü–∏–∏
function first<T>(items: T[]): T | undefined {
  return items[0];
}

// ‚úÖ Generic —Å constraints
function getProperty<T, K extends keyof T>(obj: T, key: K): T[K] {
  return obj[key];
}

// ‚úÖ Generic –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
interface ApiResponse<T> {
  data: T;
  meta: {
    total: number;
    page: number;
  };
}

// ‚úÖ Default generic types
interface PaginatedList<T = unknown> {
  items: T[];
  total: number;
  page: number;
}
```

### Const Assertions

```typescript
// ‚úÖ as const –¥–ª—è literal types
const STATUS = {
  PENDING: 'pending',
  ACTIVE: 'active',
  DISABLED: 'disabled',
} as const;

type Status = typeof STATUS[keyof typeof STATUS];
// type Status = 'pending' | 'active' | 'disabled'

// ‚úÖ –î–ª—è arrays
const ROLES = ['admin', 'user', 'guest'] as const;
type Role = typeof ROLES[number];
// type Role = 'admin' | 'user' | 'guest'
```

---

## üîß –§–£–ù–ö–¶–ò–ò

### –¢–∏–ø–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π

```typescript
// ‚úÖ –Ø–≤–Ω—ã–µ —Ç–∏–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
function createUser(data: CreateUserDTO): User {
  return {
    id: generateId(),
    ...data,
    createdAt: new Date(),
  };
}

// ‚úÖ Async —Ñ—É–Ω–∫—Ü–∏–∏
async function fetchUser(id: string): Promise<User> {
  const response = await api.get(`/users/${id}`);
  return response.data;
}

// ‚úÖ –§—É–Ω–∫—Ü–∏–∏ —Å –∫–æ–ª–±—ç–∫–∞–º–∏
function forEach<T>(
  items: T[],
  callback: (item: T, index: number) => void
): void {
  items.forEach(callback);
}

// ‚úÖ Optional –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
function greet(name: string, title?: string): string {
  return title ? `Hello, ${title} ${name}` : `Hello, ${name}`;
}

// ‚úÖ Default –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
function paginate<T>(items: T[], page = 1, limit = 20): T[] {
  const start = (page - 1) * limit;
  return items.slice(start, start + limit);
}
```

### Overloads (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞)

```typescript
// ‚úÖ –ö–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤–µ–¥—ë—Ç —Å–µ–±—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
function createElement(tag: 'div'): HTMLDivElement;
function createElement(tag: 'span'): HTMLSpanElement;
function createElement(tag: 'input'): HTMLInputElement;
function createElement(tag: string): HTMLElement {
  return document.createElement(tag);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ‚Äî TypeScript –∑–Ω–∞–µ—Ç —Ç–æ—á–Ω—ã–π —Ç–∏–ø
const div = createElement('div'); // HTMLDivElement
const input = createElement('input'); // HTMLInputElement
```

---

## üì¶ –ú–û–î–£–õ–ò –ò –≠–ö–°–ü–û–†–¢–´

### –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ)

```typescript
// ‚úÖ –•–û–†–û–®–û ‚Äî –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã
export function createUser() { ... }
export interface User { ... }
export type UserRole = 'admin' | 'user';

// –ò–º–ø–æ—Ä—Ç
import { createUser, User, UserRole } from './users';

// ‚ùå –ò–ó–ë–ï–ì–ê–ô ‚Äî default exports
export default function createUser() { ... }

// –ò–º–ø–æ—Ä—Ç ‚Äî –º–æ–∂–Ω–æ –Ω–∞–∑–≤–∞—Ç—å –∫–∞–∫ —É–≥–æ–¥–Ω–æ (–ø–ª–æ—Ö–æ –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞)
import createUserFunction from './users';
```

### Barrel exports (index.ts)

```typescript
// features/users/index.ts
export { UserList } from './components/UserList';
export { UserCard } from './components/UserCard';
export { useUsers } from './hooks/useUsers';
export { userService } from './services/userService';
export type { User, UserRole, CreateUserDTO } from './types';

// –ò–º–ø–æ—Ä—Ç ‚Äî —á–∏—Å—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ
import { UserList, useUsers, User } from '@/features/users';
```

---

## ‚öôÔ∏è –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø TSCONFIG

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```json
{
  "compilerOptions": {
    // Strict mode ‚Äî –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "strictFunctionTypes": true,
    "strictBindCallApply": true,
    "strictPropertyInitialization": true,
    "noImplicitThis": true,
    "alwaysStrict": true,
    
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedIndexedAccess": true,
    
    // –ú–æ–¥—É–ª–∏
    "module": "ESNext",
    "moduleResolution": "bundler",
    "esModuleInterop": true,
    "isolatedModules": true,
    
    // Paths
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
```

---

## üõ°Ô∏è TYPE GUARDS

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

```typescript
// typeof
if (typeof value === 'string') { ... }
if (typeof value === 'number') { ... }

// instanceof
if (error instanceof ValidationError) { ... }
if (element instanceof HTMLInputElement) { ... }

// in
if ('name' in user) { ... }

// Array.isArray
if (Array.isArray(items)) { ... }
```

### Custom Type Guards

```typescript
// ‚úÖ Type predicate —Ñ—É–Ω–∫—Ü–∏–∏
function isUser(value: unknown): value is User {
  return (
    typeof value === 'object' &&
    value !== null &&
    'id' in value &&
    'name' in value &&
    typeof (value as User).id === 'string' &&
    typeof (value as User).name === 'string'
  );
}

function isApiError(error: unknown): error is ApiError {
  return (
    error instanceof Error &&
    'statusCode' in error &&
    typeof (error as ApiError).statusCode === 'number'
  );
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
function handleData(data: unknown) {
  if (isUser(data)) {
    console.log(data.name); // TypeScript –∑–Ω–∞–µ—Ç —Ç–∏–ø
  }
}
```

### Assertion Functions

```typescript
// ‚úÖ –î–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ runtime
function assertUser(value: unknown): asserts value is User {
  if (!isUser(value)) {
    throw new Error('Value is not a User');
  }
}

function assertDefined<T>(value: T | undefined | null): asserts value is T {
  if (value === undefined || value === null) {
    throw new Error('Value must be defined');
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
function processUser(data: unknown) {
  assertUser(data);
  // –ü–æ—Å–ª–µ assert TypeScript –∑–Ω–∞–µ—Ç —á—Ç–æ data —ç—Ç–æ User
  console.log(data.name);
}
```

---

## üìã CHECKLIST

### –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

- [ ] `tsc --noEmit` –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ù–µ—Ç `any` –≤ –∫–æ–¥–µ
- [ ] –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ—é—Ç —è–≤–Ω—ã–µ —Ç–∏–ø—ã
- [ ] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è utility types –≥–¥–µ —É–º–µ—Å—Ç–Ω–æ
- [ ] Type guards –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫ —Ç–∏–ø–æ–≤
- [ ] –ù–µ—Ç `!` (non-null assertion) –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- [ ] –ù–µ—Ç `as` –±–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è-–æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è

---

**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞:** 2025-01-31
